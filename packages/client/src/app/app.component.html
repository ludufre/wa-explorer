<ion-app>
  <ion-split-pane contentId="main-content">
    <ion-menu
      contentId="main-content"
      type="overlay"
      [disabled]="!!!data.sessions || data.sessions.length === 0"
    >
      <ion-content>
        <div class="contacts">
          @for (s of data.sessions | orderBy: 'last_date' : true; track s) {
            <div class="contact">
              <div class="avatar">
                <ion-avatar>
                  <super-img [src]="s.avatar" />
                </ion-avatar>
              </div>
              <div class="content">
                <div class="first-line">
                  <div class="name">
                    {{ s.name || 'no-name' }}
                  </div>
                  <div class="last-time">
                    {{ s.last_date | dfnsParseIso | dfnsFormat: 'dd/MM/yyyy' }}
                  </div>
                </div>
                <div class="second-line">
                  <div class="last-message">
                    {{ s.last_text }}
                  </div>
                  <div class="pin">
                    <fa-icon icon="map-pin" />
                  </div>
                </div>
              </div>
            </div>
          }
        </div>
      </ion-content>
    </ion-menu>
    <ion-router-outlet id="main-content"></ion-router-outlet>
  </ion-split-pane>
</ion-app>
